---
title: React Installation
description: How to install HA-Components in an React app.
---

## Step 1: Setup ShadCN
HA-Components utilises many modified ShadCN components, hence this dependency.\
Follow the instructions here for your framework of choice: [https://ui.shadcn.com/docs/installation](https://ui.shadcn.com/docs/installation)

## Step 2: Setup Auth Provider
### Step 2.1: Add Components
Add the Auth components: 
<Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
  <Tab value="npm">    
    ```bash
    npx shadcn@latest add @ha-components/auth
    ```
  </Tab>
  <Tab value="pnpm">
    ```bash
    pnpm dlx shadcn@latest add @ha-components/auth
    ```
  </Tab>
  <Tab value="yarn">
    ```bash
    yarn shadcn@latest add @ha-components/auth
    ```
  </Tab>
  <Tab value="bun">
    ```bash
    bunx --bun shadcn@latest add @ha-components/auth
    ```
  </Tab>
</Tabs>

### Step 2.2: Set `.env` variables
#### Vite-based Framework
If you are using a Vite-based framework, set these variables to match your home assistant config
```dotenv
# Example Home Assistant host + port
VITE_HA_URL=homeassistant.local
VITE_PUBLIC_HA_PORT=8123
```

Then set `VITE_HA_CLIENT_ID` to your host 
```dotenv
# Example OAuth2 client info
VITE_HA_CLIENT_ID=http://localhost:3000
```

#### Not Vite-based Framework
If you are not using a Vite-based framework
You will need to edit `lib\haAuth.ts` to import your env variables properly.


### Step 2.3: Add Components
In your root layout file, wrap children with `HomeAssistantProvider`.\
This allows pages with the applied layout access the global websocket connection.
```jsx
import { HomeAssistantProvider } from "@/providers/HomeAssistantProvider";
return (    
  ...
  <HomeAssistantProvider>
    {children}
  </HomeAssistantProvider>
  ...
)
```

#### Note: Long-lived Tokens
If you want to use an long-lived access token for development.
If you use a Vite-based framework, you can set it in `.env`as follows
```
VITE_HA_LONG_LIVED_TOKEN="your_token_here"
```
<Callout type="error">
  **Using a long-lived token in production is not recommended.**
</Callout>

You can find how to get a valid long-lived token [here](https://developers.home-assistant.io/docs/auth_api/#long-lived-access-token)

If you are not using a Vite-based framework or NextJS,\
 you will need to edit `lib\haAuth.ts` to import your env variables properly.



## Step 3: Setup Type Generation
HA Components includes a script to automate entity name fetching.

<Callout>
  If your source code uses the /src folder structure,\
  You will need to edit the path in the script itself and in the command in step 2
</Callout>

- #### Step 3.1: Install the Script
  <Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
    <Tab value="npm">    
      ```bash
      npx shadcn@latest add @ha-components/type-generator
      ```
    </Tab>
    <Tab value="pnpm">
      ```bash
      pnpm dlx shadcn@latest add @ha-components/type-generator
      ```
    </Tab>
    <Tab value="yarn">
      ```bash
      yarn shadcn@latest add @ha-components/type-generator
      ```
    </Tab>
    <Tab value="bun">
      ```bash
      bunx --bun shadcn@latest add @ha-components/type-generator
      ```
    </Tab>
  </Tabs>
- #### Step 3.2: Register script in `package.json`
  Add the script into `package.json`
  ```json
  {
    "scripts": {
      "generate:entities": "tsx src/scripts/generate_entities.ts",
    },
  }
  ```
- #### Step 3.3: Run the script
  <Callout>
  AUTH_TOKEN
  
  If you are not using a long-lived token for development\
  Create an `.env` variable `AUTH_TOKEN` with an valid auth token e.g. `AUTH_TOKEN=VzHfnKDwMc...`\
  </Callout>
    You can now run the script using the following commands

  <Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
    <Tab value="npm">    
      ```bash
      npm run generate:entities
      ```
    </Tab>
    <Tab value="pnpm">
      ```bash
      pnpm run generate:entities
      ```
    </Tab>
    <Tab value="yarn">
      ```bash
      yarn run generate:entities
      ```
    </Tab>
    <Tab value="bun">
      ```bash
      bun run generate:entities
      ```
    </Tab>
  </Tabs>
    This will update the `types/entity-types.ts` with newly generated types that reflect your HA setup.

- #### Step 3.4: Register the types
  Register the `entity-types.ts` file in `tsconfig.json`

    ```json
    ...
      "include": [
        "types/entity-types.ts",
      ],
    ...
    ```

- #### Misc
  To regenerate your entity types, rerun Step 3.3

## Step 4: Add your components:
You can now start adding components to your project
<Tabs items={['npm', 'pnpm', 'yarn', 'bun']}>
  <Tab value="npm">    
    ```bash
    npx shadcn@latest add @ha-components/trigger
    ```
  </Tab>
  <Tab value="pnpm">
    ```bash
    pnpm dlx shadcn@latest add @ha-components/trigger
    ```
  </Tab>
  <Tab value="yarn">
    ```bash
    yarn shadcn@latest add @ha-components/trigger
    ```
  </Tab>
  <Tab value="bun">
    ```bash
    bunx --bun shadcn@latest add @ha-components/trigger
    ```
  </Tab>
</Tabs>